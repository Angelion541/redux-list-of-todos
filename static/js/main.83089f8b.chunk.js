(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n,s=c(7),a=c.n(s),r=c(3),l=c(15),i=(c(23),c(6)),o=c(13),d=c(14),u=c(4);!function(e){e.all="all",e.active="active",e.completed="completed"}(n||(n={}));var j={query:"",completingState:n.all},b=function(){return{type:"filter/all"}},h=function(){return{type:"filter/active"}},f=function(){return{type:"filter/completed"}},m=function(e){return{type:"filter/setQuery",payload:e}},O=function(){return{type:"loading/start"}},p=function(){return{type:"loading/finish"}},x=function(e){return{type:"todo/set",payload:e}},v=function(){return{type:"todo/clear"}},g=function(e){return{type:"todos/set",payload:e}},y=r.c,N=Object(i.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"todos/set"===t.type?t.payload:e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading/start":return!0;case"loading/finish":return!1;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;switch(t.type){case"filter/all":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.all});case"filter/active":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.active});case"filter/completed":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.completed});case"filter/setQuery":return c?Object(u.a)(Object(u.a)({},e),{},{query:c}):e;default:return e}},selectedTodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todo/set":return t.payload;case"todo/clear":return null;default:return e}}}),k=Object(i.createStore)(N,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),w=c(0),S=(c(24),c(25),c(1)),C=function(){return Object(S.jsx)("div",{className:"Loader",children:Object(S.jsx)("div",{className:"Loader__content"})})};function T(e){return fetch("https://mate.academy/students-api"+e).then((function(e){return e.json()}))}var q=function(){var e=Object(r.b)(),t=y((function(e){return e.filter.query}));return Object(S.jsxs)("form",{className:"field has-addons",children:[Object(S.jsx)("p",{className:"control",children:Object(S.jsx)("span",{className:"select",children:Object(S.jsxs)("select",{onChange:function(t){!function(t){switch(t){case n.active:e(h());break;case n.completed:e(f());break;default:e(b())}}(t.target.value)},children:[Object(S.jsx)("option",{value:n.all,children:"All"}),Object(S.jsx)("option",{value:n.active,children:"Active"}),Object(S.jsx)("option",{value:n.completed,children:"Completed"})]})})}),Object(S.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(S.jsx)("input",{"data-cy":"filterByTitle",type:"text",className:"input",placeholder:"Search...",value:t,onChange:function(t){return e(m(t.target.value))}}),Object(S.jsx)("span",{className:"icon is-left",children:Object(S.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(S.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:t.length>0&&Object(S.jsx)("button",{type:"button",className:"delete has-text",onClick:function(){return e(m(""))}})})]})]})},E=c(11),_=c.n(E),A=function(){var e=Object(r.b)(),t=y((function(e){var t=e.filter,c=t.query,s=t.completingState;return e.todos.filter((function(e){var t=e.title.includes(c);switch(s){case n.active:return!e.completed&&t;case n.completed:return e.completed&&t;default:return t}}))})),c=function(e){return _()({"has-background-danger-light has-text-danger":!e.completed},{"has-background-success-light has-text-success":e.completed})};return Object(S.jsx)("table",{"data-cy":"listOfTodos",className:"table is-narrow is-fullwidth",children:Object(S.jsx)("tbody",{children:t.map((function(t){return Object(S.jsxs)("tr",{className:c(t),children:[Object(S.jsx)("td",{className:"is-vcentered",children:Object(S.jsx)("span",{className:"icon is-size-5",children:Object(S.jsx)("i",{className:_()("fas",{"fa-square-xmark":!t.completed},{"fa-check-square":t.completed})})})}),Object(S.jsx)("td",{className:"is-vcentered is-expanded",children:t.title}),Object(S.jsx)("td",{className:"has-text-right is-vcentered",children:Object(S.jsx)("button",{className:"button is-warning",type:"button",onClick:function(){return e(x(t))},children:"Show #".concat(t.id)})})]},t.id)}))})})},B=c(5),D=function(){var e=Object(r.b)(),t=y((function(e){return e.selectedTodo})),c=Object(w.useState)(),n=Object(B.a)(c,2),s=n[0],a=n[1];return Object(w.useEffect)((function(){var e;t&&(e=t.userId,T("/users/".concat(e))).then((function(e){a(e)}))}),[]),Object(S.jsx)(S.Fragment,{children:t&&Object(S.jsxs)("div",{className:"modal is-active",children:[Object(S.jsx)("div",{className:"modal-background"}),s?Object(S.jsxs)("div",{className:"modal-card",children:[Object(S.jsxs)("header",{className:"modal-card-head",children:[Object(S.jsx)("div",{className:"modal-card-title has-text-weight-medium",children:"Todo #".concat(t.id)}),Object(S.jsx)("a",{href:"#close",className:"delete",onClick:function(){return e(v())},children:"Close"})]}),Object(S.jsxs)("div",{className:"modal-card-body",children:[Object(S.jsx)("p",{className:"block",children:t.title}),Object(S.jsxs)("p",{className:"block",children:[t.completed?Object(S.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(S.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(S.jsx)("a",{href:"mailto:".concat(s.email),children:s.name})]})]})]}):Object(S.jsx)(C,{})]})})},I=function(){var e=Object(r.b)(),t=y((function(e){return e.loading})),c=y((function(e){return e.selectedTodo}));return Object(w.useEffect)((function(){e(O()),T("/todos").then((function(t){return e(g(t))})).finally((function(){return e(p())}))}),[]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)("div",{className:"section",children:Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"box",children:[Object(S.jsx)("h1",{children:"Redux list of todos"}),Object(S.jsx)("div",{className:"block",children:Object(S.jsx)(q,{})}),Object(S.jsxs)("div",{className:"block",children:[t&&Object(S.jsx)(C,{}),Object(S.jsx)(A,{})]})]})})}),c&&Object(S.jsx)(D,{})]})},J=function(){return Object(S.jsx)(r.a,{store:k,children:Object(S.jsx)(l.a,{children:Object(S.jsx)(I,{})})})};a.a.render(Object(S.jsx)(J,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.83089f8b.chunk.js.map