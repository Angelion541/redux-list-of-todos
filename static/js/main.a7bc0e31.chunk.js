(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n,a=c(7),s=c.n(a),r=c(4),l=c(15),i=(c(23),c(6)),o=c(13),d=c(14),u=c(3);!function(e){e.all="all",e.active="active",e.completed="completed"}(n||(n={}));var j={query:"",completingState:n.all},b=function(){return{type:"filter/all"}},h=function(){return{type:"filter/active"}},f=function(){return{type:"filter/completed"}},m=function(e){return{type:"filter/setQuery",payload:e}},O=function(){return{type:"filter/clearQuery"}},p=function(){return{type:"loading/start"}},x=function(){return{type:"loading/finish"}},v=function(e){return{type:"todo/set",payload:e}},g=function(){return{type:"todo/clear"}},y=function(e){return{type:"todos/set",payload:e}},N=r.c,k=Object(i.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"todos/set"===t.type?t.payload:e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loading/start":return!0;case"loading/finish":return!1;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/all":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.all});case"filter/active":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.active});case"filter/completed":return Object(u.a)(Object(u.a)({},e),{},{completingState:n.completed});case"filter/setQuery":return Object(u.a)(Object(u.a)({},e),{},{query:t.payload});case"filter/clearQuery":return Object(u.a)(Object(u.a)({},e),{},{query:""});default:return e}},selectedTodo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todo/set":return t.payload;case"todo/clear":return null;default:return e}}}),w=Object(i.createStore)(k,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),S=c(0),q=(c(24),c(25),c(1)),C=function(){return Object(q.jsx)("div",{className:"Loader",children:Object(q.jsx)("div",{className:"Loader__content"})})};function T(e){return fetch("https://mate.academy/students-api"+e).then((function(e){return e.json()}))}var E=function(){var e=Object(r.b)(),t=N((function(e){return e.filter.query}));return Object(q.jsxs)("form",{className:"field has-addons",children:[Object(q.jsx)("p",{className:"control",children:Object(q.jsx)("span",{className:"select",children:Object(q.jsxs)("select",{onChange:function(t){!function(t){switch(t){case n.active:e(h());break;case n.completed:e(f());break;default:e(b())}}(t.target.value)},children:[Object(q.jsx)("option",{value:n.all,children:"All"}),Object(q.jsx)("option",{value:n.active,children:"Active"}),Object(q.jsx)("option",{value:n.completed,children:"Completed"})]})})}),Object(q.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(q.jsx)("input",{"data-cy":"filterByTitle",type:"text",className:"input",placeholder:"Search...",value:t,onChange:function(t){window.console.log(t.target.value),e(m(t.target.value))}}),Object(q.jsx)("span",{className:"icon is-left",children:Object(q.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(q.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:t.length>0&&Object(q.jsx)("button",{type:"button",className:"delete has-text",onClick:function(){return e(O())}})})]})]})},Q=c(11),_=c.n(Q),A=function(){var e=Object(r.b)(),t=N((function(e){var t=e.filter,c=t.query,a=t.completingState;return e.todos.filter((function(e){var t=e.title.includes(c);switch(a){case n.active:return!e.completed&&t;case n.completed:return e.completed&&t;default:return t}}))})),c=function(e){return _()({"has-background-danger-light has-text-danger":!e.completed},{"has-background-success-light has-text-success":e.completed})};return Object(q.jsx)("table",{"data-cy":"listOfTodos",className:"table is-narrow is-fullwidth",children:Object(q.jsx)("tbody",{children:t.map((function(t){return Object(q.jsxs)("tr",{className:c(t),children:[Object(q.jsx)("td",{className:"is-vcentered",children:Object(q.jsx)("span",{className:"icon is-size-5",children:Object(q.jsx)("i",{className:_()("fas",{"fa-square-xmark":!t.completed},{"fa-check-square":t.completed})})})}),Object(q.jsx)("td",{className:"is-vcentered is-expanded",children:t.title}),Object(q.jsx)("td",{className:"has-text-right is-vcentered",children:Object(q.jsx)("button",{className:"button is-warning",type:"button",onClick:function(){return e(v(t))},children:"Show #".concat(t.id)})})]},t.id)}))})})},B=c(5),D=function(){var e=Object(r.b)(),t=N((function(e){return e.selectedTodo})),c=Object(S.useState)(),n=Object(B.a)(c,2),a=n[0],s=n[1];return Object(S.useEffect)((function(){var e;t&&(e=t.userId,T("/users/".concat(e))).then((function(e){s(e)}))}),[]),Object(q.jsx)(q.Fragment,{children:t&&Object(q.jsxs)("div",{className:"modal is-active",children:[Object(q.jsx)("div",{className:"modal-background"}),a?Object(q.jsxs)("div",{className:"modal-card",children:[Object(q.jsxs)("header",{className:"modal-card-head",children:[Object(q.jsx)("div",{className:"modal-card-title has-text-weight-medium",children:"Todo #".concat(t.id)}),Object(q.jsx)("a",{href:"#close",className:"delete",onClick:function(){return e(g())},children:"Close"})]}),Object(q.jsxs)("div",{className:"modal-card-body",children:[Object(q.jsx)("p",{className:"block",children:t.title}),Object(q.jsxs)("p",{className:"block",children:[t.completed?Object(q.jsx)("strong",{className:"has-text-success",children:"Done"}):Object(q.jsx)("strong",{className:"has-text-danger",children:"Planned"})," by ",Object(q.jsx)("a",{href:"mailto:".concat(a.email),children:a.name})]})]})]}):Object(q.jsx)(C,{})]})})},I=function(){var e=Object(r.b)(),t=N((function(e){return e.loading})),c=N((function(e){return e.selectedTodo}));return Object(S.useEffect)((function(){e(p()),T("/todos").then((function(t){return e(y(t))})).finally((function(){return e(x())}))}),[]),Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)("div",{className:"section",children:Object(q.jsx)("div",{className:"container",children:Object(q.jsxs)("div",{className:"box",children:[Object(q.jsx)("h1",{children:"Redux list of todos"}),Object(q.jsx)("div",{className:"block",children:Object(q.jsx)(E,{})}),Object(q.jsxs)("div",{className:"block",children:[t&&Object(q.jsx)(C,{}),Object(q.jsx)(A,{})]})]})})}),c&&Object(q.jsx)(D,{})]})},J=function(){return Object(q.jsx)(r.a,{store:w,children:Object(q.jsx)(l.a,{children:Object(q.jsx)(I,{})})})};s.a.render(Object(q.jsx)(J,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a7bc0e31.chunk.js.map